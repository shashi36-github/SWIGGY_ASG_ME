<app-navbar></app-navbar>

<section class="bg-gray-100 px-4 sm:px-8 lg:px-16 mt-16">
    <div class="container mx-auto py-8">
        <!-- Breadcrumb Navigation -->
        <nav class="text-xs text-slate-500 mb-4" aria-label="Breadcrumb">
            <ol class="flex items-center space-x-1">
                <li>
                    <a routerLink="/home" class="hover:text-green-600 transition-colors duration-300">Home</a>
                </li>
                <li>
                    <span>/</span>
                </li>
                <li>
                    <a href="#" class="hover:text-green-600 transition-colors duration-300">Hyderabad</a>
                </li>
                <li>
                    <span>/</span>
                </li>
                <li aria-current="page" class="text-green-700 font-semibold">Everything' Restaurant</li>
            </ol>
        </nav>

        <!-- Section Title and Description -->
        <div class="text-center mb-8">
            <h1 class="text-4xl font-bold mb-2">Breakfast Restaurants</h1>
            <p class="text-lg text-gray-600">
                Taste these delectable classics, including biryanis to make your day.
            </p>
        </div>
        
        <!-- Filter Buttons -->
        <div class="flex flex-wrap justify-center items-center space-x-2 sm:space-x-4 mb-8">
            <button 
                (click)="setType('veg')" 
                [ngClass]="{
                    'bg-green-500 text-white': selectedType === 'veg',
                    'bg-gray-200 text-gray-700': selectedType !== 'veg'
                }"
                class="px-4 py-2 rounded-full transition-colors duration-300 m-1 focus:outline-none focus:ring-2 focus:ring-green-500"
                aria-label="Filter Vegetarian Restaurants"
            >
                Veg
            </button>
            <button 
                (click)="setType('non-veg')" 
                [ngClass]="{
                    'bg-red-500 text-white': selectedType === 'non-veg',
                    'bg-gray-200 text-gray-700': selectedType !== 'non-veg'
                }"
                class="px-4 py-2 rounded-full transition-colors duration-300 m-1 focus:outline-none focus:ring-2 focus:ring-red-500"
                aria-label="Filter Non-Vegetarian Restaurants"
            >
                Non-Veg
            </button>
            <button 
                (click)="setType('all')" 
                [ngClass]="{
                    'bg-blue-500 text-white': selectedType === 'all',
                    'bg-gray-200 text-gray-700': selectedType !== 'all'
                }"
                class="px-4 py-2 rounded-full transition-colors duration-300 m-1 focus:outline-none focus:ring-2 focus:ring-blue-500"
                aria-label="Show All Restaurants"
            >
                All
            </button>
            <!-- Additional Filters -->
            <button class="px-4 py-2 bg-gray-200 text-gray-700 rounded-full transition-colors duration-300 m-1 hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-400" aria-label="Sort By">
                Sort By
            </button>
            <button class="px-4 py-2 bg-gray-200 text-gray-700 rounded-full transition-colors duration-300 m-1 hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-400" aria-label="Filter Less than 30 mins">
                Less than 30 mins
            </button>
            <button class="px-4 py-2 bg-gray-200 text-gray-700 rounded-full transition-colors duration-300 m-1 hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-400" aria-label="Filter Rs. 300-Rs. 600">
                Rs. 300-Rs. 600
            </button>
            <button class="px-4 py-2 bg-gray-200 text-gray-700 rounded-full transition-colors duration-300 m-1 hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-400" aria-label="Filter Less than Rs. 300">
                Less than Rs. 300
            </button>
        </div>

        <!-- Restaurants Grid -->
        <h2 class="text-2xl font-bold mb-6 text-center">Restaurants to Explore</h2>
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
            <div 
                *ngFor="let res of filteredRestaurants; trackBy: trackById" 
                class="bg-white rounded-lg shadow-md overflow-hidden hover:shadow-xl transition-shadow duration-300"
            >
                <div class="relative">
                    <img 
                        [alt]="res.name" 
                        class="w-full h-48 object-cover" 
                        [src]="res.imageUrl" 
                        loading="lazy"
                    />
                    <!-- Offer Badges -->
                    <div class="absolute top-2 left-2 bg-red-500 text-white text-xs px-2 py-1 rounded">
                        {{ res.offers[0] }}
                    </div>
                    <div class="absolute bottom-2 left-2 bg-black bg-opacity-75 text-white text-sm px-2 py-1 rounded">
                        {{ res.offers[1] }}
                    </div>
                </div>
                <div class="p-4">
                    <h3 class="text-lg font-bold mb-2">
                        <a [routerLink]="['/res', res.id]" class="text-blue-600 hover:underline">{{ res.name }}</a>
                    </h3>
                    <div class="flex items-center text-sm text-gray-600 mb-2">
                        <i class="fas fa-star text-yellow-400 mr-1"></i>
                        <span>{{ res.rating }} Â· {{ res.distance }}</span>
                    </div>
                    <p class="text-sm text-gray-600 mb-1">{{ res.cuisine }}</p>
                    <p class="text-sm text-gray-600">{{ res.location }}</p>
                </div>
            </div>
        </div>
    </div>
</section>
